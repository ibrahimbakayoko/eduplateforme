{% extends 'core/base.html' %}

{% block title %}Inscription - EduPlateforme{% endblock %}

{% block content %}
<main class="container my-5">
    <div class="row justify-content-center">
        <div class="col-lg-10 col-md-8 col-sm-10">
            <h2 class="text-center mb-4">Créer un compte</h2>
            <p class="text-center text-muted mb-5">
                Inscrivez-vous pour accéder à notre plateforme. C'est rapide et gratuit !
            </p>

            <form method="POST" enctype="multipart/form-data" class="needs-validation" novalidate>
                {% csrf_token %}

                <!-- Informations de connexion -->
                <fieldset class="mb-5">
                    <legend class="mb-3 fw-bold">Informations de connexion</legend>

                    <!-- Champ Nom d'utilisateur -->
                    <div class="mb-4">
                        <label for="id_username" class="form-label">Nom d'utilisateur</label>
                        <input type="text" name="username" id="id_username" class="form-control" value="{{ form.username.value }}" placeholder="Entrez votre nom d'utilisateur" required>
                        {% if form.username.errors %}
                            <div class="text-danger">
                                {% for error in form.username.errors %}
                                    <p>{{ error }}</p>
                                {% endfor %}
                            </div>
                        {% endif %}
                    </div>

                    <!-- Champ Email -->
                    <div class="mb-4">
                        <label for="id_email" class="form-label">Adresse Email</label>
                        <input type="email" name="email" id="id_email" class="form-control" value="{{ form.email.value }}" placeholder="Entrez votre adresse email" required>
                        {% if form.email.errors %}
                            <div class="text-danger">
                                {% for error in form.email.errors %}
                                    <p>{{ error }}</p>
                                {% endfor %}
                            </div>
                        {% endif %}
                    </div>

                    <!-- Champ Mot de passe -->
                    <div class="mb-4">
                        <label for="id_password1" class="form-label">Mot de passe</label>
                        <input type="password" name="password1" id="id_password1" class="form-control" placeholder="Entrez un mot de passe" required>
                        {% if form.password1.errors %}
                            <div class="text-danger">
                                {% for error in form.password1.errors %}
                                    <p>{{ error }}</p>
                                {% endfor %}
                            </div>
                        {% endif %}
                    </div>

                    <!-- Champ Confirmation du mot de passe -->
                    <div class="mb-4">
                        <label for="id_password2" class="form-label">Confirmez le mot de passe</label>
                        <input type="password" name="password2" id="id_password2" class="form-control" placeholder="Confirmez le mot de passe" required>
                        {% if form.password2.errors %}
                            <div class="text-danger">
                                {% for error in form.password2.errors %}
                                    <p>{{ error }}</p>
                                {% endfor %}
                            </div>
                        {% endif %}
                    </div>
                </fieldset>

                <!-- Informations personnelles -->
                <fieldset class="mb-5">
                    <legend class="mb-3 fw-bold">Informations personnelles</legend>

                    <!-- Champ Prénom -->
                    <div class="mb-4">
                        <label for="id_first_name" class="form-label">Prénom</label>
                        <input type="text" name="first_name" id="id_first_name" class="form-control" value="{{ form.first_name.value }}" placeholder="Entrez votre prénom">
                        {% if form.first_name.errors %}
                            <div class="text-danger">
                                {% for error in form.first_name.errors %}
                                    <p>{{ error }}</p>
                                {% endfor %}
                            </div>
                        {% endif %}
                    </div>

                    <!-- Champ Nom -->
                    <div class="mb-4">
                        <label for="id_last_name" class="form-label">Nom</label>
                        <input type="text" name="last_name" id="id_last_name" class="form-control" value="{{ form.last_name.value }}" placeholder="Entrez votre nom">
                        {% if form.last_name.errors %}
                            <div class="text-danger">
                                {% for error in form.last_name.errors %}
                                    <p>{{ error }}</p>
                                {% endfor %}
                            </div>
                        {% endif %}
                    </div>

                    <!-- Champ Date de naissance -->
                    <div class="mb-4">
                        <label for="id_date_of_birth" class="form-label">Date de naissance</label>
                        <input type="date" name="date_of_birth" id="id_date_of_birth" class="form-control" value="{{ form.date_of_birth.value }}">
                        {% if form.date_of_birth.errors %}
                            <div class="text-danger">
                                {% for error in form.date_of_birth.errors %}
                                    <p>{{ error }}</p>
                                {% endfor %}
                            </div>
                        {% endif %}
                    </div>

                    <!-- Champ Photo de profil -->
                    <div class="mb-4">
                        <label for="id_profile_picture" class="form-label">Photo de profil</label>
                        <input type="file" name="profile_picture" id="id_profile_picture" class="form-control">
                        {% if form.profile_picture.errors %}
                            <div class="text-danger">
                                {% for error in form.profile_picture.errors %}
                                    <p>{{ error }}</p>
                                {% endfor %}
                            </div>
                        {% endif %}
                    </div>
                </fieldset>

                <!-- Informations supplémentaires -->
                <fieldset class="mb-5">
                    <legend class="mb-3 fw-bold">Informations supplémentaires</legend>

                    <!-- Champ Numéro de téléphone -->
                    <div class="mb-4">
                        <label for="id_phone_number" class="form-label">Numéro de téléphone</label>
                        <input type="tel" name="phone_number" id="id_phone_number" class="form-control" value="{{ form.phone_number.value }}" placeholder="Entrez votre numéro de téléphone">
                        {% if form.phone_number.errors %}
                            <div class="text-danger">
                                {% for error in form.phone_number.errors %}
                                    <p>{{ error }}</p>
                                {% endfor %}
                            </div>
                        {% endif %}
                    </div>

                    <!-- Champ Adresse -->
                    <div class="mb-4">
                        <label for="id_address" class="form-label">Adresse</label>
                        <textarea name="address" id="id_address" class="form-control" rows="3" placeholder="Entrez votre adresse">{{ form.address.value }}</textarea>
                        {% if form.address.errors %}
                            <div class="text-danger">
                                {% for error in form.address.errors %}
                                    <p>{{ error }}</p>
                                {% endfor %}
                            </div>
                        {% endif %}
                    </div>

                    <!-- Champ Institution -->
                    <div class="mb-4">
                        <label for="id_institution" class="form-label">Institution</label>
                        <input type="text" name="institution" id="id_institution" class="form-control" value="{{ form.institution.value }}" placeholder="Nom de votre établissement scolaire ou entreprise">
                        {% if form.institution.errors %}
                            <div class="text-danger">
                                {% for error in form.institution.errors %}
                                    <p>{{ error }}</p>
                                {% endfor %}
                            </div>
                        {% endif %}
                    </div>

                    <!-- Champ Grade -->
                    <div class="mb-4">
                        <label for="id_grade" class="form-label">Grade</label>
                        <input type="text" name="grade" id="id_grade" class="form-control" value="{{ form.grade.value }}" placeholder="Niveau ou classe actuelle">
                        {% if form.grade.errors %}
                            <div class="text-danger">
                                {% for error in form.grade.errors %}
                                    <p>{{ error }}</p>
                                {% endfor %}
                            </div>
                        {% endif %}
                    </div>

                    <!-- Champ Rôle -->
                    <div class="mb-4">
                        <label for="id_role" class="form-label">Rôle</label>
                        <select name="role" id="id_role" class="form-control" required>
                            {% for choice in form.role.field.choices %}
                                <option value="{{ choice.0 }}" {% if form.role.value == choice.0 %}selected{% endif %}>
                                    {{ choice.1 }}
                                </option>
                            {% endfor %}
                        </select>
                        {% if form.role.errors %}
                            <div class="text-danger">
                                {% for error in form.role.errors %}
                                    <p>{{ error }}</p>
                                {% endfor %}
                            </div>
                        {% endif %}
                    </div>
                </fieldset>

                <!-- Bouton Soumettre -->
                <div class="d-grid">
                    <button type="submit" class="btn btn-primary btn-lg">S'inscrire</button>
                </div>
            </form>

            <p class="mt-4 text-center">
                Vous avez déjà un compte ? <a href="{% url 'login' %}">Connectez-vous</a>
            </p>
        </div>
    </div>
</main>
{% endblock %}





<!-- <!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Inscription</title>
</head>
<body>
    <h2>Créer un compte</h2>
    <form method="POST" enctype="multipart/form-data">
        {% csrf_token %}
        {{ form.as_p }}
        <button type="submit">S'inscrire</button>
    </form>
    <p>Vous avez déjà un compte ? <a href="{% url 'login' %}">Connectez-vous</a></p>
</body>
</html> -->
